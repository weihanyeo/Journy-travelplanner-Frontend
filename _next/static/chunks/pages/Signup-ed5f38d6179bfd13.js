(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[32],{4104:function(e,r,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Signup",function(){return s(959)}])},959:function(e,r,s){"use strict";s.r(r);var a=s(5893),o=s(7294),t=s(1163),n=s(3097);r.default=()=>{let e=(0,t.useRouter)(),[r,s]=(0,o.useState)({username:"",password:"",name:"",email:""}),[l,c]=(0,o.useState)(""),i=e=>a=>{s({...r,[e]:a.target.value})},m=()=>{let e=!1,{username:s,password:a,name:o,email:t}=r,n="";return s.length<1&&(e=!0,n+="Username, "),o.length<1&&(e=!0,n+="Name, "),(t.length<1||!t.includes("@"))&&(e=!0,n+="Email, "),(a.length<8||a.length>20||!/^(?=.*[a-zA-Z])(?=.*\d).+$/.test(a))&&(e=!0,n+="Password, "),c(n),e},d=async()=>{if(!m())try{console.log("Attempting to sign up...");let s=await n.Z.post("/members/register",r);if(console.log("Sign-up successful!"),s.data&&s.data.token){let{token:r}=s.data;console.log("Received token from server"),localStorage.setItem("jwt",r),console.log("Stored JWT token in local storage"),setTimeout(()=>{window.location.reload()},500),e.replace("/Discover"),console.log("Redirected user to Discover page")}else console.error("Unexpected response format from the server:",s.data),c("An error occurred. Please try again later.")}catch(e){console.error("Error occurred during sign-up:",e),e.response?(c(e.response.data.message||"An error occurred. Please try again later."),console.error("Error message set:",e.response.data.message)):(c("An error occurred. Please try again later."),console.error("Generic error message set"))}};return(0,a.jsxs)("div",{className:"container mt-3 justify-content-center",style:{minHeight:"40rem",maxWidth:"40rem"},children:[(0,a.jsx)("h1",{className:"text-center",children:"Register for a magical journey"}),l.length>0&&(0,a.jsx)("div",{className:"alert alert-warning alert-dismissible fade show",role:"alert",children:(0,a.jsxs)("div",{children:["Holy guacamole! You should check on these fields:",(0,a.jsxs)("strong",{children:[" ",l.substring(0,l.length-2)]})]})}),(0,a.jsx)("br",{}),(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("label",{for:"exampleFormControlInput",className:"form-label",children:"Name"}),(0,a.jsx)("input",{type:"name",className:"form-control",id:"exampleFormControlInput",placeholder:"Enter Your Name",value:r.name,onChange:i("name")})]}),(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("label",{for:"exampleFormControlInput1",className:"form-label",children:"Email address"}),(0,a.jsx)("input",{type:"email",className:"form-control",id:"exampleFormControlInput1",placeholder:"name@example.com",value:r.email,onChange:i("email")})]}),(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("label",{for:"exampleFormControlInput2",className:"form-label",children:"Username"}),(0,a.jsx)("input",{type:"text",className:"form-control",id:"exampleFormControlInput2",placeholder:"Create a Username",value:r.username,onChange:i("username")})]}),(0,a.jsx)("label",{for:"inputPassword5",className:"form-label",children:"Password"}),(0,a.jsx)("input",{type:"password",id:"inputPassword5",className:"form-control","aria-describedby":"passwordHelpBlock",placeholder:"Create a Password",value:r.password,onChange:i("password")}),(0,a.jsxs)("div",{id:"passwordHelpBlock m",className:"form-text",children:["Your password ",(0,a.jsx)("b",{children:"must be"})," 8-20 characters long, contain letters and numbers, and ",(0,a.jsx)("b",{children:"must not contain"})," spaces, special characters, or emoji."]}),(0,a.jsx)("br",{}),(0,a.jsx)("button",{type:"button",className:"btn btn-primary rounded-4",style:{width:"100%",fontSize:"0.9rem"},onClick:d,children:"Join us"}),(0,a.jsx)("h6",{className:"text-center mt-4",style:{fontWeight:"40"},children:"Already with journy?"}),(0,a.jsx)("button",{type:"button",className:"btn btn-primary rounded-4",style:{width:"100%",fontSize:"0.9rem",marginBottom:"10px"},onClick:()=>e.push("/Login"),children:"Log in"})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=4104)}),_N_E=e.O()}]);